// Request data
var flightData = {
  "request": {
    "slice": [
      {
        "origin": "SFO",
        "destination": "NYC",
        "date": "2017-06-27"
      },
      {
        "origin": "NYC",
        "destination": "SFO",
        "date": "2017-06-28"
      }
    ],
    "passengers": {
      "adultCount": 1,
      "infantInLapCount": 0,
      "infantInSeatCount": 0,
      "childCount": 0,
      "seniorCount": 0
    },
    "solutions": 10,
    "refundable": false
  }
};

// mock for testing
var mockData = {  
   "kind":"qpxExpress#tripsSearch",
   "trips":{  
      "kind":"qpxexpress#tripOptions",
      "requestId":"Y49QoO4cBeb6wmpxb0QmrQ",
      "data":{  
         "kind":"qpxexpress#data",
         "airport":[  
            {  
               "kind":"qpxexpress#airportData",
               "code":"LAS",
               "city":"LAS",
               "name":"Las Vegas McCarran International"
            },
            {  
               "kind":"qpxexpress#airportData",
               "code":"SFO",
               "city":"SFO",
               "name":"San Francisco International"
            }
         ],
         "city":[  
            {  
               "kind":"qpxexpress#cityData",
               "code":"LAS",
               "name":"Las Vegas"
            },
            {  
               "kind":"qpxexpress#cityData",
               "code":"SFO",
               "name":"San Francisco"
            }
         ],
         "aircraft":[  
            {  
               "kind":"qpxexpress#aircraftData",
               "code":"320",
               "name":"Airbus A320"
            },
            {  
               "kind":"qpxexpress#aircraftData",
               "code":"738",
               "name":"Boeing 737"
            },
            {  
               "kind":"qpxexpress#aircraftData",
               "code":"739",
               "name":"Boeing 737"
            }
         ],
         "tax":[  
            {  
               "kind":"qpxexpress#taxData",
               "id":"ZP",
               "name":"US Flight Segment Tax"
            },
            {  
               "kind":"qpxexpress#taxData",
               "id":"AY_001",
               "name":"US September 11th Security Fee"
            },
            {  
               "kind":"qpxexpress#taxData",
               "id":"US_001",
               "name":"US Transportation Tax"
            },
            {  
               "kind":"qpxexpress#taxData",
               "id":"XF",
               "name":"US Passenger Facility Charge"
            }
         ],
         "carrier":[  
            {  
               "kind":"qpxexpress#carrierData",
               "code":"AS",
               "name":"Alaska Airlines Inc."
            },
            {  
               "kind":"qpxexpress#carrierData",
               "code":"UA",
               "name":"United Airlines, Inc."
            },
            {  
               "kind":"qpxexpress#carrierData",
               "code":"VX",
               "name":"Virgin America Inc."
            }
         ]
      },
      "tripOption":[  
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ009",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":97,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":97,
                        "flight":{  
                           "carrier":"UA",
                           "number":"681"
                        },
                        "id":"GhVMp5Hg3ShR7JLc",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LeNSV1yC-O4xoUXf",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-26T22:14-07:00",
                              "departureTime":"2017-06-26T20:37-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":97,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":93,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":93,
                        "flight":{  
                           "carrier":"UA",
                           "number":"451"
                        },
                        "id":"GR-6hSlZQy04JXZq",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lh46VibDy5Jw6hfU",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-30T20:18-07:00",
                              "departureTime":"2017-06-30T18:45-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":93,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GhVMp5Hg3ShR7JLc"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GR-6hSlZQy04JXZq"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ007",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":97,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":97,
                        "flight":{  
                           "carrier":"UA",
                           "number":"2399"
                        },
                        "id":"Gc6p8L5+BXKqWc8-",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"L1J2V3cj7SofWXoy",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-26T23:10-07:00",
                              "departureTime":"2017-06-26T21:33-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":97,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":91,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":91,
                        "flight":{  
                           "carrier":"UA",
                           "number":"728"
                        },
                        "id":"GBtI4vEx1YhDE3Vg",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Ly6I9PwMF0y754jA",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-30T07:31-07:00",
                              "departureTime":"2017-06-30T06:00-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":91,
                              "onTimePerformance":90,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"Gc6p8L5+BXKqWc8-"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GBtI4vEx1YhDE3Vg"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ006",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":90,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":90,
                        "flight":{  
                           "carrier":"UA",
                           "number":"455"
                        },
                        "id":"GeMbVtZ6RheyVy7I",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lj0MvXfm55ERh2Gk",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-27T00:15-07:00",
                              "departureTime":"2017-06-26T22:45-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":90,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":96,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":96,
                        "flight":{  
                           "carrier":"UA",
                           "number":"361"
                        },
                        "id":"GPk9m0mi8m5ksCPv",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"L0HIBK853pdMWK-3",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-30T17:01-07:00",
                              "departureTime":"2017-06-30T15:25-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":96,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GPk9m0mi8m5ksCPv"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GeMbVtZ6RheyVy7I"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ002",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":87,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":87,
                        "flight":{  
                           "carrier":"VX",
                           "number":"918"
                        },
                        "id":"G1i-7vZi4v5wzEt-",
                        "cabin":"COACH",
                        "bookingCode":"L",
                        "bookingCodeCount":7,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LV9P80zLxn2s8Pu4",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-26T20:22-07:00",
                              "departureTime":"2017-06-26T18:55-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"2",
                              "destinationTerminal":"3",
                              "duration":87,
                              "onTimePerformance":69,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":94,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":94,
                        "flight":{  
                           "carrier":"VX",
                           "number":"897"
                        },
                        "id":"GhgY0QSIwgt2x0Gw",
                        "cabin":"COACH",
                        "bookingCode":"L",
                        "bookingCodeCount":7,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LLtKguCBXnhetHgX",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-30T08:24-07:00",
                              "departureTime":"2017-06-30T06:50-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"2",
                              "duration":94,
                              "onTimePerformance":85,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"AbgCRENojHArQ2LawGRdcbu6rB03DwHcapWX/mqRWt+k",
                        "carrier":"VX",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LVXVN5"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"AbgCRENojHArQ2LawGRdcbu6rB03DwHcapWX/mqRWt+k",
                        "carrier":"VX",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LVXVN5"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"AbgCRENojHArQ2LawGRdcbu6rB03DwHcapWX/mqRWt+k",
                        "segmentId":"GhgY0QSIwgt2x0Gw"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"AbgCRENojHArQ2LawGRdcbu6rB03DwHcapWX/mqRWt+k",
                        "segmentId":"G1i-7vZi4v5wzEt-"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO VX LAS 80.00LVXVN5 VX SFO 80.00LVXVN5 USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ001",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":90,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":90,
                        "flight":{  
                           "carrier":"UA",
                           "number":"455"
                        },
                        "id":"GeMbVtZ6RheyVy7I",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lj0MvXfm55ERh2Gk",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-27T00:15-07:00",
                              "departureTime":"2017-06-26T22:45-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":90,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":91,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":91,
                        "flight":{  
                           "carrier":"UA",
                           "number":"728"
                        },
                        "id":"GBtI4vEx1YhDE3Vg",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Ly6I9PwMF0y754jA",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-30T07:31-07:00",
                              "departureTime":"2017-06-30T06:00-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":91,
                              "onTimePerformance":90,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GBtI4vEx1YhDE3Vg"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GeMbVtZ6RheyVy7I"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ00A",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":97,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":97,
                        "flight":{  
                           "carrier":"UA",
                           "number":"2399"
                        },
                        "id":"Gc6p8L5+BXKqWc8-",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"L1J2V3cj7SofWXoy",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-26T23:10-07:00",
                              "departureTime":"2017-06-26T21:33-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":97,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":93,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":93,
                        "flight":{  
                           "carrier":"UA",
                           "number":"451"
                        },
                        "id":"GR-6hSlZQy04JXZq",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lh46VibDy5Jw6hfU",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-30T20:18-07:00",
                              "departureTime":"2017-06-30T18:45-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":93,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"Gc6p8L5+BXKqWc8-"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GR-6hSlZQy04JXZq"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ008",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":97,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":97,
                        "flight":{  
                           "carrier":"UA",
                           "number":"681"
                        },
                        "id":"GhVMp5Hg3ShR7JLc",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LeNSV1yC-O4xoUXf",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-26T22:14-07:00",
                              "departureTime":"2017-06-26T20:37-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":97,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":91,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":91,
                        "flight":{  
                           "carrier":"UA",
                           "number":"728"
                        },
                        "id":"GBtI4vEx1YhDE3Vg",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Ly6I9PwMF0y754jA",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-30T07:31-07:00",
                              "departureTime":"2017-06-30T06:00-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":91,
                              "onTimePerformance":90,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GBtI4vEx1YhDE3Vg"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GhVMp5Hg3ShR7JLc"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ003",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":87,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":87,
                        "flight":{  
                           "carrier":"AS",
                           "number":"1918"
                        },
                        "id":"GHgTDVB9cjfLHJL8",
                        "cabin":"COACH",
                        "bookingCode":"G",
                        "bookingCodeCount":7,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lbz9uxMkvsQ1eWJk",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-26T20:22-07:00",
                              "departureTime":"2017-06-26T18:55-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"2",
                              "destinationTerminal":"3",
                              "duration":87,
                              "operatingDisclosure":"OPERATED BY VIRGIN AMERICA",
                              "onTimePerformance":57,
                              "mileage":413,
                              "meal":"Food for Purchase",
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":94,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":94,
                        "flight":{  
                           "carrier":"AS",
                           "number":"1897"
                        },
                        "id":"GcuNuIB-zCnAcVUf",
                        "cabin":"COACH",
                        "bookingCode":"G",
                        "bookingCodeCount":7,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LAB-rroCbq679c11",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-30T08:24-07:00",
                              "departureTime":"2017-06-30T06:50-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"2",
                              "duration":94,
                              "operatingDisclosure":"OPERATED BY VIRGIN AMERICA",
                              "onTimePerformance":82,
                              "mileage":413,
                              "meal":"Food for Purchase",
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"ANQtnROag41gw4HATyYjnPFxfUdDS37yre8iuvCA1vI/",
                        "carrier":"AS",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"GVXVN5"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"ANQtnROag41gw4HATyYjnPFxfUdDS37yre8iuvCA1vI/",
                        "carrier":"AS",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"GVXVN5"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"ANQtnROag41gw4HATyYjnPFxfUdDS37yre8iuvCA1vI/",
                        "segmentId":"GcuNuIB-zCnAcVUf"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"ANQtnROag41gw4HATyYjnPFxfUdDS37yre8iuvCA1vI/",
                        "segmentId":"GHgTDVB9cjfLHJL8"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO AS LAS 80.00GVXVN5 AS SFO 80.00GVXVN5 USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ004",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":90,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":90,
                        "flight":{  
                           "carrier":"UA",
                           "number":"455"
                        },
                        "id":"GeMbVtZ6RheyVy7I",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lj0MvXfm55ERh2Gk",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-27T00:15-07:00",
                              "departureTime":"2017-06-26T22:45-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":90,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":93,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":93,
                        "flight":{  
                           "carrier":"UA",
                           "number":"451"
                        },
                        "id":"GR-6hSlZQy04JXZq",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lh46VibDy5Jw6hfU",
                              "aircraft":"739",
                              "arrivalTime":"2017-06-30T20:18-07:00",
                              "departureTime":"2017-06-30T18:45-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":93,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GeMbVtZ6RheyVy7I"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GR-6hSlZQy04JXZq"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         },
         {  
            "kind":"qpxexpress#tripOption",
            "saleTotal":"USD200.40",
            "id":"Y9wZ4sH3SxIUE4UdELDaeQ005",
            "slice":[  
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":90,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":90,
                        "flight":{  
                           "carrier":"UA",
                           "number":"455"
                        },
                        "id":"GeMbVtZ6RheyVy7I",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"0",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"Lj0MvXfm55ERh2Gk",
                              "aircraft":"320",
                              "arrivalTime":"2017-06-27T00:15-07:00",
                              "departureTime":"2017-06-26T22:45-07:00",
                              "origin":"SFO",
                              "destination":"LAS",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":90,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               },
               {  
                  "kind":"qpxexpress#sliceInfo",
                  "duration":95,
                  "segment":[  
                     {  
                        "kind":"qpxexpress#segmentInfo",
                        "duration":95,
                        "flight":{  
                           "carrier":"UA",
                           "number":"1800"
                        },
                        "id":"GrW5omQ3R+yBXp+p",
                        "cabin":"COACH",
                        "bookingCode":"N",
                        "bookingCodeCount":9,
                        "marriedSegmentGroup":"1",
                        "leg":[  
                           {  
                              "kind":"qpxexpress#legInfo",
                              "id":"LI0amFxZIwpsW--G",
                              "aircraft":"738",
                              "arrivalTime":"2017-06-30T18:10-07:00",
                              "departureTime":"2017-06-30T16:35-07:00",
                              "origin":"LAS",
                              "destination":"SFO",
                              "originTerminal":"3",
                              "destinationTerminal":"3",
                              "duration":95,
                              "onTimePerformance":80,
                              "mileage":413,
                              "secure":true
                           }
                        ]
                     }
                  ]
               }
            ],
            "pricing":[  
               {  
                  "kind":"qpxexpress#pricingInfo",
                  "fare":[  
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"SFO",
                        "destination":"LAS",
                        "basisCode":"LAA0AKBN"
                     },
                     {  
                        "kind":"qpxexpress#fareInfo",
                        "id":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "carrier":"UA",
                        "origin":"LAS",
                        "destination":"SFO",
                        "basisCode":"LAA0AKBN"
                     }
                  ],
                  "segmentPricing":[  
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GrW5omQ3R+yBXp+p"
                     },
                     {  
                        "kind":"qpxexpress#segmentPricing",
                        "fareId":"A8jRjhH/6aTqcuBt33klfusOVrQ1QwP2Y1WzovNFMPqY",
                        "segmentId":"GeMbVtZ6RheyVy7I"
                     }
                  ],
                  "baseFareTotal":"USD160.00",
                  "saleFareTotal":"USD160.00",
                  "saleTaxTotal":"USD40.40",
                  "saleTotal":"USD200.40",
                  "passengers":{  
                     "kind":"qpxexpress#passengerCounts",
                     "adultCount":1
                  },
                  "tax":[  
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"US_001",
                        "chargeType":"GOVERNMENT",
                        "code":"US",
                        "country":"US",
                        "salePrice":"USD12.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"AY_001",
                        "chargeType":"GOVERNMENT",
                        "code":"AY",
                        "country":"US",
                        "salePrice":"USD11.20"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"XF",
                        "chargeType":"GOVERNMENT",
                        "code":"XF",
                        "country":"US",
                        "salePrice":"USD9.00"
                     },
                     {  
                        "kind":"qpxexpress#taxInfo",
                        "id":"ZP",
                        "chargeType":"GOVERNMENT",
                        "code":"ZP",
                        "country":"US",
                        "salePrice":"USD8.20"
                     }
                  ],
                  "fareCalculation":"SFO UA LAS 80.00LAA0AKBN UA SFO 80.00LAA0AKBN USD 160.00 END ZP SFO LAS XT 12.00US 8.20ZP 11.20AY 9.00XF SFO4.50 LAS4.50",
                  "latestTicketingTime":"2017-06-25T23:59-04:00",
                  "ptc":"ADT"
               }
            ]
         }
      ]
   }
};

var flightInfo = [];
var selectedFlight ={};
var jsonObject = {};
var airline;
var price;
var origin = $('#fOrigin').val();
var destination = $('#fDestination').val();
var departingDate = $('#departingDate').val();
var returningDate = $('#returningDate').val();

// var apikey = "AIzaSyBf_sxIn1lzHh9N4IkjVZK5_rIqkgak7mw";
//api key for QPX
var apikey = "AIzaSyBXOHHsl27QWnczv_vb3Q_X4ZzRCjypUik";
var endPoint = "https://www.googleapis.com/qpxExpress/v1/trips/search?key="+apikey;

$( "#searchFlights" ).submit(function(event) {
  // Stop form from submitting normally
  event.preventDefault();

// using mock data as QPX API has a limit of 40 request per day
//   $( "#results" ).empty().append( JSON.stringify(mockData, null, 2));
//   for(i=0; i < mockData.trips.tripOption.length; i++){
//         airline = mockData.trips.tripOption[i].slice[0].segment[0].flight.carrier;
//         price = mockData.trips.tripOption[i].saleTotal;
//         origin = mockData.trips.tripOption[i].slice[0].segment[0].leg[0].origin;
//         destination = mockData.trips.tripOption[i].slice[0].segment[0].leg[0].destination;
//         departureTime = mockData.trips.tripOption[i].slice[0].segment[0].leg[0].departureTime;
//         arrivalTime = mockData.trips.tripOption[i].slice[0].segment[0].leg[0].arrivalTime;
//         jsonObject = {"airline": airline , "price": price, "origin": origin,
//             "destination": destination, "departureTime": departureTime, "arrivalTime": arrivalTime };
//         flightInfo.push(jsonObject);
//     }

    $.each(flightInfo, function(i, item) {
            console.log("inside each....");
            var $tr = $('<tr>').addClass('clickable-row page-scroll');
            $tr.append(
                $('<td>').text(item.airline),
                $('<td>').text(item.price),
                $('<td>').text(item.origin),
                $('<td>').text(item.destination),
                $('<td>').text(item.departureTime),
                $('<td>').text(item.arrivalTime)
            ).appendTo('#flightResults');
        });
        $('#flightsTable').removeClass('hide');
        $('#flightsTable').addClass('show');
        $('html,body').animate({
            scrollTop: $('#flightsTable').offset().top},'slow');


  // Using QPX API          
  flightData.request.slice[0].origin = $('#fOrigin').val();
  flightData.request.slice[0].destination = $('#fDestination').val();
  flightData.request.slice[1].origin = $('#fDestination').val();
  flightData.request.slice[1].destination = $('#fOrigin').val();
  flightData.request.passengers.adultCount = $('#ticketCount').val();
  flightData.request.maxPrice = $('#maxPrice').val();
  flightData.request.slice[0].date = $('#departingDate').val();
  flightData.request.slice[1].date = $('#returningDate').val();
  console.log(flightData.request.slice[0].destination);
  
  $.ajax({
    type: "POST",
    //Set up your request URL and API Key.
    url: "https://www.googleapis.com/qpxExpress/v1/trips/search?key=AIzaSyBf_sxIn1lzHh9N4IkjVZK5_rIqkgak7mw",
    // Set Content-type: application/json
    contentType: 'application/json',
    dataType: 'json',
    // The query we want from Google QPX, This will be the variable we created in the beginning
    data: JSON.stringify(flightData),
    success: function(data) {
        //Once we get the result you can either send it to console or use it anywhere you like.
        console.log(JSON.stringify("Google flights response is: ", JSON.stringify(data)));
        //var content = $( data ).find( "#content" );
        $( "#results" ).empty().append( JSON.stringify(data, null, 2));
        for(i=0; i < data.trips.tripOption.length; i++){
            airline = data.trips.tripOption[i].slice[0].segment[0].flight.carrier;
            price = data.trips.tripOption[i].saleTotal;
            origin = data.trips.tripOption[i].slice[0].segment[0].leg[0].origin;
            destination = data.trips.tripOption[i].slice[0].segment[0].leg[0].destination;
            departureTime = data.trips.tripOption[i].slice[0].segment[0].leg[0].departureTime;
            arrivalTime = data.trips.tripOption[i].slice[0].segment[0].leg[0].arrivalTime;
            jsonObject = {"airline": airline , "price": price, "origin": origin,
                "destination": destination, "departureTime": departureTime, "arrivalTime": arrivalTime };
            flightInfo.push(jsonObject);
        }

        $.each(flightInfo, function(i, item) {
            console.log("inside each....");
            var $tr = $('<tr>').addClass('clickable-row page-scroll');
            $tr.append(
                $('<td>').text(item.airline),
                $('<td>').text(item.price),
                $('<td>').text(item.origin),
                $('<td>').text(item.destination),
                $('<td>').text(item.departureTime),
                $('<td>').text(item.arrivalTime)
            ).appendTo('#flightResults');
        });
        $('#flightsTable').removeClass('hide');
        $('#flightsTable').addClass('show');
        $('html,body').animate({
            scrollTop: $('#flightsTable').offset().top},'slow');
            
    },
    error: function() {
        //Error Handling for our request
        console.log("Access to Google QPX Failed.");
    }
 });
});

$('#flightsTable tr').on("click", function(e) {
    console.log($(this));
});

$("input").on("change", function() {
    this.setAttribute(
        "data-date",
        moment(this.value, "YYYY-MM-DD")
        .format( this.getAttribute("data-date-format") )
    )
}).trigger("change");

$('#flightsTable').on('click', '.clickable-row', function(event) {
  
                var tableData = $(this).children('td').map(function () {
                    return $(this).text();
                }).get();
                var props = $('thead > tr th');
                var array = [];
                props.each(function () { array.push($(this).text().toLowerCase()) });
                //keys
                console.log(array);
                //values
                console.log(tableData);


                for (var i = 0; i < tableData.length; i++) {
                    selectedFlight[array[i]] = tableData[i];
                }
                console.log(selectedFlight);
                $('#events').addClass('show');
                $('html,body').animate({
                    scrollTop: $('#events').offset().top},'slow');
});